(()=>{"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.head=0,this.tail=0}var i,n;return i=e,(n=[{key:"enqueue",value:function(t){this.elements[this.tail++]=t}},{key:"dequeue",value:function(){var t=this.elements[this.head];return delete this.elements[this.head++],t}},{key:"peek",value:function(){return this.elements[this.head]}},{key:"length",get:function(){return this.tail-this.head}},{key:"isEmpty",get:function(){return 0===this.length}}])&&t(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),e}();function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r=[],u=!0,o=!1;try{for(i=i.call(t);!(u=(n=i.next()).done)&&(r.push(n.value),!e||r.length!==e);u=!0);}catch(t){o=!0,a=t}finally{try{u||null==i.return||i.return()}finally{if(o)throw a}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,i,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=null,this.targetData=null,this.map=null,this.queue=null,this.path=e,this.background=i,this.window=n,this.canvas=a,this.context=a.getContext("2d"),this.finished=!1}var n,r;return n=t,r=[{key:"load",value:function(t){var e=this,i=new Image;i.crossOrigin="*",i.onload=function(){var n=document.createElement("canvas"),a=n.getContext("2d"),r=i.width,u=i.height,o=e.canvas,h=o.width,l=o.height;n.width=h,n.height=l;var s=r/2-h/2,c=u/2-l/2;a.drawImage(i,-s,-c),e.data=a.getImageData(0,0,h,l),a.clearRect(0,0,h,l),t&&t()},i.src=this.path}},{key:"setup",value:function(){this._initializeTargetData(),this._initializeMap(),this._initializeQueue()}},{key:"update",value:function(){if(!this.finished){this.window.devicePixelRatio;for(var t=Math.max(this.canvas.width,this.canvas.height),e=0;e<t;++e){if(this.queue.isEmpty){var i=this._getMiddlemostIndex();if(!(i>-1)){this.finished=!0;break}this.queue.enqueue(i)}var n=this.data,a=n.height,r=n.width,u=this.queue.dequeue();0==this.map[u]&&(this.map[u]=2,this.targetData.data[4*u+3]=0,u>=r&&this.queue.enqueue(u-r),u%r!=0&&this.queue.enqueue(u-1),u<=r*(a-1)+1&&this.queue.enqueue(u+r),u%(r+1)!=0&&this.queue.enqueue(u+1))}}}},{key:"render",value:function(){this.context.putImageData(this.targetData,0,0)}},{key:"_initializeTargetData",value:function(){this.targetData=new ImageData(this.data.width,this.data.height);for(var t=this.targetData.data,e=i(this.background,3),n=e[0],a=e[1],r=e[2],u=0;u<t.length/4;++u){var o=4*u;t[o]=n,t[o+1]=a,t[o+2]=r,t[o+3]=255}}},{key:"_initializeMap",value:function(){var t=this.data.data,e=i(this.background,3),n=e[0],a=e[1],r=e[2];this.map=new Uint8Array(Math.floor(t.length/4));for(var u=0,o=0;o<t.length/4;++o){var h=4*o,l=t[h],s=t[h+1],c=t[h+2],d=1;l==n&&s==a&&c==r||(d=0),this.map[u]=d,++u}}},{key:"_initializeQueue",value:function(){this.queue=new e}},{key:"_getMiddlemostIndex",value:function(){for(var t=new Int32Array(this.map.length),e=0,i=0;i<this.map.length;++i)0==this.map[i]&&(t[e++]=i);return 0==e?-1:t[Math.round((e-1)/2)]}}],r&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();const u=r;var o,h,l,s,c,d,f,y,g,v,p=document.querySelector(".gradient-layer"),m=document.querySelector(".cover-layer"),w=window.document.body,b=w.clientWidth,k=w.clientHeight;function q(){window.requestAnimationFrame(q);var t=(h=Date.now())-l,e=1e3/s;t>e&&(l=h-t%e,o.update(),o.render())}f="../images/background",y=window,g=y.devicePixelRatio,v=y.innerWidth,d=(c={scale:Math.max(2.5,g),finalPath:"".concat(f,v>480?"/pattern-desktop.png":"/pattern-mobile-v2.png")}).scale,o=new u(c.finalPath,[23,23,23],window,m),h=Date.now(),l=h,s=60,m.width=Math.ceil(b*d),m.height=Math.ceil(k*d),m.style.width="".concat(b,"px"),m.style.height="".concat(k,"px"),o.load((function(){p.style.visibility="visible",o.setup(),q()}))})();